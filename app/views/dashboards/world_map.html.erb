<div class="row">
	<%= render 'shared/sidebar' %>
	<div class="col-md-10">
		<div id="covid-cases" style="max-width: 1000px"></div>
		<div id="covid-deaths" style="max-width: 1000px"></div>
	</div>


	<script type="text/javascript">
		Highcharts.mapChart('covid-cases', {
			chart: {
				map: 'custom/world'
			},

			title: {
				text: 'Covid Cases'
			},

			mapNavigation: {
				enabled: true,
				enableDoubleClickZoomTo: true
			},

			colorAxis: {
				min: 1,
				max: 10000000,
				type: 'logarithmic'
			},

			series: [{
				data: <%= raw @covid_cases_map_data %>,
				joinBy: ['iso-a3', 'code3'],
				name: 'Covid Cases',
				states: {
					hover: {
						color: '#a4edba'
					}
				},
			}]
		});

		Highcharts.mapChart('covid-deaths', {
			chart: {
				map: 'custom/world'
			},

			title: {
				text: 'Covid Deaths'
			},

			mapNavigation: {
				enabled: true,
				enableDoubleClickZoomTo: true
			},

			colorAxis: {
				min: 1,
				max: 1000000,
				type: 'logarithmic',
				dataClasses: [{
					color: "#e1eb34",
					from: 1,
					to: 1000
				}, {
					color: "#ebba34",
					from: 1000,
					to: 10000
				}, {
					color: "#eb8034",
					from: 1000,
					to: 10000
				}, {
					color: "#eb5634",
					from: 10000,
					to: 100000
				}, {
					color: "#e30000",
					from: 100000,
					to: 1000000
				}]
			},

			series: [{
				data: <%= raw @covid_death_map_data %>,
				joinBy: ['iso-a3', 'code3'],
				name: 'Covid Death',
				states: {
					hover: {
						color: '#a4edba'
					}
				},
			}]
		});
	</script>
